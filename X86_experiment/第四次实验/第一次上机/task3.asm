.386
DATA	SEGMENT USE16
TIME	DB 09H	
DATA	ENDS
STACK	SEGMENT USE16 STACK
		DB 200 DUP(0)
STACK	ENDS
READ	MACRO A
		MOV AL,A
		OUT 70H,AL
		JMP $+2
		IN	AL,71H;获得时间
		MOV BL,AL
		MOV BH,AL
		AND BL,00001111B
		SHR BH,4
		ADD	BX,3030H
		MOV DL,BH
		MOV AH,2
		INT 21H
		MOV DL,BL
		MOV AH,2
		INT 21H
		ENDM

CODE	SEGMENT USE16
		ASSUME DS:DATA,CS:CODE,SS:STACK
START:	MOV AX,DATA
		MOV DS,AX
		
		MOV DH,TIME
S0:		READ DH
		MOV DL,' '
		MOV AH,2
		INT 21H
		SUB DH,01H
		CMP	DH,05H
		JNE	S0
		
		MOV	DH,04H
		MOV CX,3
S1:		READ DH
		MOV DL,' '
		MOV AH,2
		INT 21H
		SUB DH,02H
		LOOP S1
		
		MOV AH,4CH
		INT 21H
		
		
CODE	ENDS
		END START